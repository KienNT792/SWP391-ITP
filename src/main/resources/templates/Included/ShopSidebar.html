<!-- File: src/main/resources/webapp/admin/Included/ShopSidebar.html
     If you keep views under webapp (as in your screenshot), configure thymeleaf prefix:
     application.properties
       spring.thymeleaf.prefix=classpath:/webapp/
       spring.thymeleaf.suffix=.html
-->
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <meta charset="UTF-8" />
    <title>Shop Owner Sidebar</title>
    <style>
        /* Lightweight styles; swap with your CSS later */
        .sidebar{position:sticky;top:0;height:100dvh;width:280px;background:#0f172a;color:#e2e8f0;display:flex;flex-direction:column;border-right:1px solid #1f2937}
        .brand{display:flex;align-items:center;gap:.5rem;padding:1rem 1.25rem;border-bottom:1px solid #1f2937}
        .brand-logo{width:28px;height:28px;border-radius:6px;background:#22c55e;display:inline-block}
        .brand-title{font-weight:700;letter-spacing:.3px}
        .scroll{flex:1;overflow:auto;padding:.5rem 0}
        .section{padding:.75rem 1rem .25rem;font-size:.75rem;color:#94a3b8;text-transform:uppercase;letter-spacing:.06em}
        .nav{list-style:none;margin:0;padding:.25rem}
        .nav a{display:flex;align-items:center;gap:.75rem;padding:.6rem 1rem;border-radius:.6rem;color:#cbd5e1;text-decoration:none}
        .nav a:hover{background:#0b1220;color:#fff}
        .nav a.active{background:#1f2937;color:#fff}
        .icon{width:18px;height:18px;opacity:.9}
        .collapse{margin:.25rem .5rem .5rem .5rem;border-left:2px solid #1f2937}
        .collapse a{padding-left:1.75rem}
        .footer{padding:.75rem 1rem;border-top:1px solid #1f2937;font-size:.8rem;color:#94a3b8}
    </style>
</head>
<body>
<!-- Fragment signature: pass currentPath to auto‑highlight items -->
<aside th:fragment="sidebar (currentPath)" class="sidebar" sec:authorize="hasAnyRole('SELLER','ADMIN')">
    <!-- Brand / App name -->
    <div class="brand">
        <span class="brand-logo" aria-hidden="true"></span>
        <div>
            <div class="brand-title">Item Trading Flatform</div>
            <small style="color:#94a3b8">Shop Owner Console</small>
        </div>
    </div>

    <div class="scroll">
        <!-- Overview -->
        <div class="section">Overview</div>
        <ul class="nav">
            <li>
                <a th:href="@{/seller/dashboard}"
                   th:classappend="${#strings.contains(currentPath,'/seller/dashboard')}? ' active'">
                    <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6"><path d="M3 12l9-9 9 9"/><path d="M9 22V12h6v10"/></svg>
                    <span>Dashboard</span>
                </a>
            </li>
            <li>
                <a th:href="@{/seller/analytics}"
                   th:classappend="${#strings.contains(currentPath,'/seller/analytics')}? ' active'">
                    <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6"><path d="M3 3v18h18"/><path d="M7 15v3M12 11v7M17 7v11"/></svg>
                    <span>Analytics</span>
                </a>
            </li>
        </ul>

        <!-- Orders -->
        <div class="section">Orders</div>
        <ul class="nav">
            <li>
                <a th:href="@{/seller/orders}"
                   th:classappend="${#strings.contains(currentPath,'/seller/orders')}? ' active'">
                    <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6"><rect x="3" y="4" width="18" height="13" rx="2"/><path d="M16 21H8"/></svg>
                    <span>Order List</span>
                </a>
            </li>
            <li>
                <a th:href="@{/seller/disputes}"
                   th:classappend="${#strings.contains(currentPath,'/seller/disputes')}? ' active'">
                    <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6"><path d="M12 20l9-16H3z"/></svg>
                    <span>Complaint</span>
                </a>
            </li>
        </ul>

        <!-- Products -->
        <div class="section">Products</div>
        <ul class="nav">
            <li>
                <a th:href="@{/seller/products}"
                   th:classappend="${#strings.contains(currentPath,'/seller/products')}? ' active'">
                    <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6"><rect x="3" y="4" width="7" height="7"/><rect x="14" y="4" width="7" height="7"/><rect x="3" y="15" width="7" height="7"/><rect x="14" y="15" width="7" height="7"/></svg>
                    <span>Manage Products</span>
                </a>
                <div class="collapse">
                    <a th:href="@{/seller/products/add}"
                       th:classappend="${#strings.contains(currentPath,'/seller/products/add')}? ' active'">Add Product</a>
                    <a th:href="@{/seller/products/bulk}"
                       th:classappend="${#strings.contains(currentPath,'/seller/products/bulk')}? ' active'">Bulk Update</a>
                </div>
            </li>
            <li>
                <a th:href="@{/seller/feedbacks}"
                   th:classappend="${#strings.contains(currentPath,'/seller/feedbacks')}? ' active'">
                    <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6"><path d="M21 15a4 4 0 0 1-4 4H7l-4 4V5a4 4 0 0 1 4-4h10a4 4 0 0 1 4 4z"/></svg>
                    <span>Feedback</span>
                </a>
            </li>
        </ul>

        <!-- Finance -->
        <div class="section">Finance</div>
        <ul class="nav">
            <li>
                <a th:href="@{/seller/wallet}"
                   th:classappend="${#strings.contains(currentPath,'/seller/wallet')}? ' active'">
                    <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6"><rect x="2" y="7" width="20" height="12" rx="2"/><path d="M18 11h2"/></svg>
                    <span>Wallet</span>
                </a>
                <div class="collapse">
                    <a th:href="@{/seller/wallet/topup}"
                       th:classappend="${#strings.contains(currentPath,'/seller/wallet/topup')}? ' active'">Top‑up</a>
                    <a th:href="@{/seller/wallet/transactions}"
                       th:classappend="${#strings.contains(currentPath,'/seller/wallet/transactions')}? ' active'">Transaction History</a>
                </div>
            </li>
            <li>
                <a th:href="@{/seller/transactions}"
                   th:classappend="${#strings.contains(currentPath,'/seller/transactions')}? ' active'">
                    <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6"><path d="M3 6h18"/><path d="M7 10h14"/><path d="M3 14h18"/><path d="M3 18h14"/></svg>
                    <span>Payouts & Orders</span>
                </a>
            </li>
        </ul>

        <!-- Shop Settings -->
        <div class="section">Shop</div>
        <ul class="nav">
            <li>
                <a th:href="@{/seller/shop}"
                   th:classappend="${#strings.contains(currentPath,'/seller/shop')}? ' active'">
                    <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6"><path d="M3 9l9-6 9 6"/><path d="M4 10h16v10H4z"/></svg>
                    <span>Shop Profile</span>
                </a>
            </li>
            <li>
                <a th:href="@{/seller/shop/settings}"
                   th:classappend="${#strings.contains(currentPath,'/seller/shop/settings')}? ' active'">
                    <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6"><circle cx="12" cy="12" r="3"/><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1-2.83 2.83l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V22a2 2 0 0 1-4 0v-.08a1.65 1.65 0 0 0-1-1.51 1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 1 1-2.83-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H2a2 2 0 0 1 0-4h.08a1.65 1.65 0 0 0 1.51-1 1.65 1.65 0 0 0-.33-1.82l-.06-.06A2 2 0 1 1 6.03 4.4l.06.06a1.65 1.65 0 0 0 1.82.33H8a1.65 1.65 0 0 0 1-1.51V2a2 2 0 0 1 4 0v.08a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 1 1 2.83 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V8c0 .69.28 1.32.73 1.77.45.45 1.08.73 1.77.73H22a2 2 0 0 1 0 4h-.08a1.65 1.65 0 0 0-1.51 1z"/></svg>
                    <span>Settings</span>
                </a>
            </li>
            <li>
                <a th:href="@{/seller/messages}"
                   th:classappend="${#strings.contains(currentPath,'/seller/messages')}? ' active'">
                    <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6"><path d="M21 15a4 4 0 0 1-4 4H7l-4 4V5a4 4 0 0 1 4-4h10a4 4 0 0 1 4 4z"/></svg>
                    <span>Messages</span>
                </a>
            </li>
        </ul>

        <!-- Account -->
        <div class="section">Account</div>
        <ul class="nav">
            <li>
                <a th:href="@{/profile}"
                   th:classappend="${#strings.contains(currentPath,'/profile')}? ' active'">
                    <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6"><circle cx="12" cy="8" r="4"/><path d="M6 20a6 6 0 0 1 12 0"/></svg>
                    <span>Profile</span>
                </a>
            </li>
            <li>
                <a th:href="@{/logout}">
                    <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/><path d="M16 17l5-5-5-5"/><path d="M21 12H9"/></svg>
                    <span>Logout</span>
                </a>
            </li>
        </ul>
    </div>

    <div class="footer">
        <div th:text="${#dates.format(#dates.createNow(),'yyyy')} + ' © ITP'">2025 © ITP</div>
        <div style="opacity:.8">Seller Sidebar v1.0</div>
    </div>
</aside>

<!-- USAGE EXAMPLE in a page within /webapp structure:
<div th:replace="~{/admin/Included/ShopSidebar :: sidebar(${#httpServletRequest.requestURI})}"></div>
-->
</body>
</html>
